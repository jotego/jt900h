    ; link
    maxmode on
    relaxed on
    org 0
    ld a,0xbf    ; common header

    ld xsp,stack
    ld xwa,0x1234678
    
    link xwa,0xffffffff
    unlk xwa   
    link xbc,0xffffffff
    unlk xbc   
    link xde,0xffffffff
    unlk xde   
    link xhl,0xffffffff
    unlk xhl   
    link xix,0xffffffff
    unlk xix   
    link xiy,0xffffffff
    unlk xiy   
    link xiz,0xffffffff
    unlk xiz   
    link xsp,0xffffffff
    unlk xsp

end_loop:
    ldf 0
    ld hl,0xbabe
    ld (0xffff),0xff
    jp end_loop
bad_end:
    ld hl,0xdead
    ld (0xffff),0xff
    jp bad_end
data:
    db 0x12,0x34,0x56,0x78,0x9A,0xBC,0xDE,0xF0
    dw 0xbbbb,0x0000,0x0000,0x0000
ref:
    db 0x01,0x23,0x45,0x67,0x89,0xAB,0xCD,0xEF
    dw 0x0000,0x0000,0x0000,0x0000
    dw 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000
copy:
    dw 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000
stack:
    end
    ; RRD
    maxmode on
    relaxed on
    org 0
    ld a,0xbf    ; common header

    ld xhl,data
    ld a,0
    ld bc,8

scroll:
    rrd a,(xhl+)
    djnz bc,scroll

    cp bc,0
    jp ne,bad_end

    ld xhl,data
    ld xix,ref
    ld bc,8
ver:
    ld a,(xhl+)
    cp a,(xix+)
    jp ne,bad_end
    djnz bc,ver

end_loop:
    ldf 0
    ld hl,0xbabe
    ld (0xffff),0xff
    jp end_loop
bad_end:
    ld hl,0xdead
    ld (0xffff),0xff
    jp bad_end
data:
    db 0x12,0x34,0x56,0x78,0x9A,0xBC,0xDE,0xF0
    dw 0xbbbb,0x0000,0x0000,0x0000
ref:
    db 0x01,0x23,0x45,0x67,0x89,0xAB,0xCD,0xEF
    dw 0x0000,0x0000,0x0000,0x0000
    dw 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000
copy:
    dw 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000
    end